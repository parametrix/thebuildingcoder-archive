<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Building Coder</title>
    <link rel="stylesheet" href="bc.css">
    <link rel="stylesheet" href="google-code-prettify/prettify.css">
    <script src="google-code-prettify/run_prettify.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        a { color: #0066cc; }
        img { max-width: 100%; height: auto; }
        .nav { margin-bottom: 20px; padding: 10px; background: #f5f5f5; border-radius: 5px; }
        .nav a { margin-right: 15px; }
    </style>
  <link rel="stylesheet" href="toc/toc-sidebar.css">
</head>
<body>
    <div class="nav">
        <a href="index.html">← Back to Index</a>
    </div>
    <article>
<head>
<link rel="stylesheet" type="text/css" href="bc.css">
  <link rel="stylesheet" href="toc/toc-sidebar.css">
</head>

<!-- Rudolf Honke Re: Lost in space -->

<h3>TextNote Lost in Space?</h3>

<p>Here is the result of another interesting discussion I had with Rudolf Honke of

<a href="http://www.acadgraph.de">
Mensch und Maschine acadGraph GmbH</a>. 

<p>We already looked at some aspects of text formatting such as 

<a href="0335_textnote_alignment.htm">
alignment</a>,

<a href="0393_text_rotation.htm">
rotation</a> and

<a href="0610_text_size.htm">
size</a> in 

the past.

<p>So whilst there are some manipulations we can perform on text notes, it is rather irking that their Location property is not accessible.

<p>Seen through the API, the Location property value is always either a LocationPoint or LocationCurve instance.
I assume that neither of these two fit the internal location data structure of a text note position, and therefore its location is simply not exposed at all by the API.
Very sad.

<p>As Rudolf pointed out, however, the TextNote provides a Coord property instead.

<p>You can retrieve the X and Y coordinates of a TextNote element from its Coord property.

<p>The Z value of the Coord property is sometimes valid, e.g. for a text note in a section view, and sometimes not, e.g. in plan view, where it is zero, in all cases we have seen so far.

<p>These coordinate values are 'model space' coordinates, i.e. they really represent the text note location in 3D space.

<p>As said, the Coord.Z property depends on the view type.
In a floor plan, the correct Z value may be obtained via the GenLevel.Elevation property.
The Z behaviour for other 2D view types such as drafting, detail and area plan is still unknown  :-)

<p>I also noticed that room tags in plan views have invalid Z coordinate values.
They have a valid Location property, but like the TextNote.Coord, the Z coordinate is zero.
I observe this on all my RoomTags, independent of the RoomTag.Room.Level.

<p>So the position of several different kinds of text objects seems to be a mixture of 2D and 3D if they belong to plan views.

<p>One hypothesis is that the 'zero Z in plan view' behaviour is shared by all types derived from SpatialElementTag, i.e. area, room and space tags.

<p>No guarantees on any of this information, but it might a least provide some additional understanding and a starting point to locate your text note elements.

<p>Thank you Rudolf for raising this issue and pointing out the workaround!


<h4>Registration for Autodesk University 2011</h4>

<p>Registration for 

<a href="http://autode.sk/nftv78">
Autodesk University 2011</a> in Las Vegas opens today.

    </article>
    <div class="nav">
        <a href="index.html">← Back to Index</a>
    </div>
<script src="toc/toc-sidebar.js"></script>
<script src="toc/copy-code.js"></script>
</body>
</html>
