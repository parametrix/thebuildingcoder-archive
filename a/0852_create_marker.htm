<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Building Coder</title>
    <link rel="stylesheet" href="bc.css">
    <link rel="stylesheet" href="google-code-prettify/prettify.css">
    <script src="google-code-prettify/run_prettify.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        a { color: #0066cc; }
        img { max-width: 100%; height: auto; }
        .nav { margin-bottom: 20px; padding: 10px; background: #f5f5f5; border-radius: 5px; }
        .nav a { margin-right: 15px; }
    </style>
  <link rel="stylesheet" href="toc/toc-sidebar.css">
</head>
<body>
    <div class="nav">
        <a href="index.html">← Back to Index</a>
    </div>
    <article>
<head>
<link rel="stylesheet" type="text/css" href="bc.css">
  <link rel="stylesheet" href="toc/toc-sidebar.css">
</head>

<!--

Daren Thomas Re: How to display a reference point in the model (for debugging purposes)

-->

<h3>Display a Geometry Debugging Point in the Model</h3>

<p>Here are some pointers from a conversation I had with Daren Thomas on how to display a reference point in the model for debugging purposes that may be on general interest.

<p><strong>Question:</strong> I am playing around with the FindReferencesWithContextByDirection method and would like to display the references found as coloured blobs or something in the model.

<p>How can I achieve this, please?

<p>This question could also be simplified into: how to create an easily visible dot at a 3D point in the model?

<p>Can such a "dot" exist on its own or must it be drawn onto a face? How?

<p>I never really got into actually <b>creating</b> geometry in Revit.

<!-- However, it seems to me that I could use NewCurveByPoints (specifying ReferencePoints) to achieve my goal in a family document. -->

<p><strong>Answer</strong> by Daren: I figured it out on my own now:

<p>I can create a SketchPlane and draw a ModelCurve on it.

<p>Given two points a and b, this 

<a href="http://code.google.com/p/revitpythonshell">
RevitPythonShell</a>

code will create a green line between them in the 3D view:

<pre class="code">
  transaction = Transaction(doc)
  transaction.Start('draw a line')
  c = XYZ(0, 0, 0)
  v0 = XYZ(a.X - b.X, a.Y - b.Y, a.Z - b.Z)
  v1 = XYZ(a.X - c.X, a.Y - c.Y, a.Z - c.Z)
  plane = Plane(v0.CrossProduct(v1), a)
  sketchPlane = doc.Create.NewSketchPlane(plane)
  line = doc.Application.Create.NewLineBound(a, b)
  doc.Create.NewModelCurve(line, sketchPlane)
  transaction.Commit()
</pre>

<p><strong>Answer</strong> by Jeremy: Yes, model lines is probably the simplest way to go.

<p>You need model curves in 3D, and can use detail curves in a 2D view.

<p>The Creator class included in The Building Code samples includes several usage examples implemented in C#.
It was used to graphically highlight geometry in numerous previous posts, and last updated to

<a href="0839_slab_boundary.htm">
display the boundaries of a slab</a>.

<p>All it does is package what you describe above nicely, though.

<p>For more complex geometry and transient display, you can also use the analysis visualisation framework AVF.
It could be used to draw a full 3D sphere as a marker, if you prefer, as I showed when displaying

<a href="0825_apollonian_packing.htm">
Apollonian spheres using AVF</a>.

    </article>
    <div class="nav">
        <a href="index.html">← Back to Index</a>
    </div>
<script src="toc/toc-sidebar.js"></script>
</body>
</html>
