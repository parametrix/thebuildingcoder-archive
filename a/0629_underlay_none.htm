<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Building Coder</title>
    <link rel="stylesheet" href="bc.css">
    <link rel="stylesheet" href="google-code-prettify/prettify.css">
    <script src="google-code-prettify/run_prettify.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        a { color: #0066cc; }
        img { max-width: 100%; height: auto; }
        .nav { margin-bottom: 20px; padding: 10px; background: #f5f5f5; border-radius: 5px; }
        .nav a { margin-right: 15px; }
    </style>
  <link rel="stylesheet" href="toc/toc-sidebar.css">
</head>
<body>
    <div class="nav">
        <a href="index.html">← Back to Index</a>
    </div>
    <article>
<head>
<link rel="stylesheet" type="text/css" href="bc.css">
  <link rel="stylesheet" href="toc/toc-sidebar.css">
</head>

<!-- 1271381 [underlay display property] -->

<h3>Set Underlay Display Property to None</h3>

<p>Here is a short and sweet question handled by Joe Ye:

<p><strong>Question:</strong> I am creating new levels using the API.
All my existing levels have their underlay display property set to None, but the new ones all have it set to the previous level.

<p>How can I programmatically change this setting to None as well?

<p><strong>Answer:</strong> This property is stored in the "Underlay" parameter on the level.
You can set it to None by assigning a null ElementId. 
Here is a sample code snippet showing how to create a null ElementId and assign it to the parameter:

<pre class="code">
&nbsp; <span class="teal">ElementId</span> id = <span class="blue">new</span> <span class="teal">ElementId</span>( -1 );
&nbsp; e.get_Parameter( <span class="maroon">&quot;Underlay&quot;</span> ).Set( id ); 
</pre>

<p>For production code, I would suggest using the built-in parameter instead of the user visible display name to identify the parameter.
Furthermore, the ElementId class defines a static property InvalidElementId which returns the invalid ElementId whose IntegerValue is -1.
Using these two improvements, the language independent code would look like this:

<pre class="code">
&nbsp; e.get_Parameter( <span class="teal">BuiltInParameter</span>.VIEW_UNDERLAY_ID )
&nbsp; &nbsp; .Set( <span class="teal">ElementId</span>.InvalidElementId ); 
</pre>

<p>ElementId.InvalidElementId is commonly used in the Revit API to denote an invalid or void element reference, for instance to mark the 

<a href="0604_estorage_element_id.htm#7">
deletion of an element referenced in extensible storage</a>.

    </article>
    <div class="nav">
        <a href="index.html">← Back to Index</a>
    </div>
<script src="toc/toc-sidebar.js"></script>
</body>
</html>
